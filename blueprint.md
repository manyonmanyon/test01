# 引っ越し見積もりアプリ ブループリント

## 概要

このアプリケーションは、ユーザーが引っ越しの準備を円滑に進めるための支援ツールです。写真や情報を入力することで、必要な資材（例：段ボール箱の数）や大まかな費用を見積もることができます。

## 実装済み機能

- **初期セットアップ:**
  - HTML, CSS, JavaScriptの基本的なプロジェクト構造
  - GitリポジトリとGitHubへの接続

## 現在の計画：箱の数予測機能

### 目的

ユーザーが本や食器などの荷物の写真をアップロードすると、それらを梱包するために必要な段ボール箱の数を予測して表示する。

### 実装ステップ

1.  **UIの作成 (`index.html`):**
    -   ファイル選択のための`<input type="file" multiple>`を設置する。
    -   予測実行のトリガーとなる`<button>`を設置する。
    -   結果を表示するための要素（例：`<div>`）を配置する。
2.  **スタイリング (`style.css`):**
    -   モダンで直感的なデザインを適用する。
    -   ファイル入力、ボタン、結果表示エリアのスタイルを整える。
3.  **ロジックの実装 (`main.js`):**
    -   UIのロジックをカプセル化するために、`<box-estimator>`というWebコンポーネントを作成する。
    -   ファイル入力の変更を監視し、選択されたファイル数を取得する。
    -   ボタンクリック時に、ファイル数に基づいて箱の数を計算する（例：5アイテムごとに1箱）。
    -   計算結果を画面に表示する。

### ファイルアップロード機能

#### 目的
ユーザーが選択した写真をFirebase Storageにアップロードして永続化する。

#### 実装ステップ
1.  **Firebase SDKの追加 (`index.html`):**
    -   Firebaseのコア(app)とストレージ(storage)のSDKをCDNから読み込む。
2.  **Firebase設定ファイルの作成 (`firebase-init.js`):**
    -   提供された`firebaseConfig`オブジェクトを使ってFirebaseアプリを初期化する。
    -   作成したファイルを`index.html`から読み込む。
3.  **アップロードロジックの実装 (`main.js`):**
    -   `<box-estimator>`コンポーネント内で、Firebase Storageのインスタンスにアクセスする。
    -   「予測」ボタンのクリックイベントを更新し、単にファイルを数えるだけでなく、Firebase Storageへのアップロード処理をトリガーするように変更する。
    -   アップロード中はボタンを無効化し、ステータス（例：「アップロード中...」）を表示する。
    -   すべてのファイルのアップロードが完了したら、箱の数を計算して表示する。
    -   エラーハンドリングを実装する。

## UI改善

### 目的
アプリケーションの使いやすさと視覚的な魅力を向上させ、よりモダンで直感的なユーザー体験を提供する。

### 実装ステップ
1.  **デザインの刷新 (`style.css`):**
    -   **タイポグラフィ:** Google Fontsから「M PLUS Rounded 1c」をインポートし、全体のフォントとして適用する。
    -   **カラーとレイアウト:** 背景に subtle なグラデーションを適用し、メインコンテナにはよりはっきりとした影（ドロップシャドウ）を追加して立体感を出す。
    -   **アイコン:** ボタンやファイル入力エリアにSVGアイコンを追加して、視覚的に分かりやすくする。
2.  **インタラクティブ性の向上 (`main.js`のWebコンポーネント):**
    -   **画像プレビュー機能:** ユーザーがファイルを選択した際に、その画像のサムネイルを画面に表示する。これにより、どのファイルが選択されたかを確認できる。
    -   **アップロード進捗バー:** ファイルアップロード中に、全体の進捗を示すプログレスバーを表示する。Firebaseの`UploadTask`が持つ進捗イベントを活用して実現する。
    -   **アニメーション:** 結果表示のテキストにフェードインアニメーションを追加し、視覚的なフィードバックを強化する。
