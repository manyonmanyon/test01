# 引っ越し見積もりアプリ ブループリント

## 概要

このアプリケーションは、ユーザーが引っ越しの準備を円滑に進めるための支援ツールです。写真や情報を入力することで、必要な資材（例：段ボール箱の数）や大まかな費用を見積もることができます。

## 実装済み機能

- **初期セットアップ:**
  - HTML, CSS, JavaScriptの基本的なプロジェクト構造
  - GitリポジトリとGitHubへの接続

## 現在の計画：高機能な箱予測ウィザード

### 目的

単に写真の枚数を数えるだけでなく、ユーザーからの追加情報（本のサイズや厚さ）を基に、より正確な荷物の体積を計算し、必要な段ボール箱の数を予測する対話的な機能を提供する。

### 実装ステップ

1.  **UIフローの変更 (`main.js`のWebコンポーネント):**
    -   ユーザーがファイルを選択（またはアップロード）した後、すぐには結果を表示しない。
    -   代わりに、本の「サイズ」と「厚さ」を選択させるための入力フォーム（ウィザード）を表示する。
    -   このウィザード内に、最終的な計算を実行するための「箱の数を計算する」ボタンを配置する。

2.  **詳細な入力フォームの実装 (`main.js`):**
    -   WebコンポーネントのHTML構造内に、`<select>`ドロップダウンリストを持つウィザードセクションを追加し、デフォルトでは非表示にしておく。
    -   選択肢には、一般的な本の規格（例：「文庫本」「単行本」など）と厚さ（例：「薄い」「普通」など）を用意する。

3.  **体積ベースの計算ロジックの実装 (`main.js`):**
    -   **本の体積を定義:** 各書籍サイズと厚さの選択肢に、平均的な寸法（縦・横・厚さ）をセンチメートル単位で紐付ける。
    -   **箱の体積を定義:** 引っ越しで一般的に使われる段ボール箱（例：100サイズ）の寸法を定義する。
    -   **計算実行:** 「箱の数を計算する」ボタンが押されたら、以下の計算を行う。
        1.  本の総数（＝アップロードされたファイル数）を取得する。
        2.  ユーザーが選択したサイズと厚さから、本1冊あたりの体積を計算する。
        3.  本の総体積を計算する（`総数 × 1冊あたりの体積`）。
        4.  梱包効率（例：80%）を考慮しつつ、本の総体積を段ボール箱の体積で割り、必要な箱の数を算出する。
        5.  最終的な計算結果を画面に表示する。

4.  **スタイリング (`main.js`の`<style>`ブロック):**
    -   新しく追加するウィザードフォーム（ラベル、ドロップダウンリストなど）のスタイルを、全体のデザインに合わせて調整する。

## UI改善

### 目的
アプリケーションの使いやすさと視覚的な魅力を向上させ、よりモダンで直感的なユーザー体験を提供する。

### 実装ステップ
1.  **デザインの刷新 (`style.css`):**
    -   **タイポグラフィ:** Google Fontsから「M PLUS Rounded 1c」をインポートし、全体のフォントとして適用する。
    -   **カラーとレイアウト:** 背景に subtle なグラデーションを適用し、メインコンテナにはよりはっきりとした影（ドロップシャドウ）を追加して立体感を出す。
    -   **アイコン:** ボタンやファイル入力エリアにSVGアイコンを追加して、視覚的に分かりやすくする。
2.  **インタラクティブ性の向上 (`main.js`のWebコンポーネント):**
    -   **画像プレビュー機能:** ユーザーがファイルを選択した際に、その画像のサムネイルを画面に表示する。これにより、どのファイルが選択されたかを確認できる。
    -   **アップロード進捗バー:** ファイルアップロード中に、全体の進捗を示すプログレスバーを表示する。Firebaseの`UploadTask`が持つ進捗イベントを活用して実現する。
    -   **アニメーション:** 結果表示のテキストにフェードインアニメーションを追加し、視覚的なフィードバックを強化する。
    -   **処理中スピナー:** ファイルアップロード中など、時間がかかる処理が実行されている間、ボタン上にスピナーを表示して、ユーザーに処理中であることを明確に伝える。
